sources:
  "2.15.0":
    url: "https://github.com/tensorflow/tensorflow/archive/refs/tags/v2.15.0.tar.gz"
    sha256: "9cec5acb0ecf2d47b16891f8bc5bc6fbfdffe1700bdadc0d9ebe27ea34f0c220"
patches:
  "2.15.0":
    - patch_file: "patches/2.15.0-0001-disable-fetch-content.patch"
      patch_description: "Fail if the CMake build script tries to fetch external dependencies"
      patch_type: "conan"
    - patch_file: "patches/2.15.0-0002-windows-mmap.patch"
      patch_description: "Disable mmap on Windows."
      patch_type: "bugfix"
      patch_source: "https://github.com/tensorflow/tensorflow/pull/62636"
    - patch_file: "patches/2.15.0-0003-use-cci-dependencies.patch"
      patch_description: "Dependency compatibility: Patch CMakeLists.txt, updating package names, target names, etc"
      patch_type: "conan"
    - patch_file: "patches/2.15.0-0004-enable-cpp20.patch"
      patch_description: "Abseil since 2025 requires at least C++20 for std::weak_ordering, among others"
      patch_type: "backport"
